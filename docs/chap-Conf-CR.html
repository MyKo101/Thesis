<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies | Multi-State Clinical Prediction Models in Renal Replacement Therapy</title>
  <meta name="description" content="Chapter 3 How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies | Multi-State Clinical Prediction Models in Renal Replacement Therapy" />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies | Multi-State Clinical Prediction Models in Renal Replacement Therapy" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies | Multi-State Clinical Prediction Models in Renal Replacement Therapy" />
  
  
  

<meta name="author" content="Michael Andrew Barrowman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap-scoping-review.html"/>
<link rel="next" href="chap-IPCW-logistic.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/header-attrs-2.1.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="https://hypothes.is/embed.js" async></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap-lit-report.html"><a href="chap-lit-report.html"><i class="fa fa-check"></i><b>1</b> Literature Report</a>
<ul>
<li class="chapter" data-level="1.1" data-path="chap-lit-report.html"><a href="chap-lit-report.html#introduction-1"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="chap-lit-report.html"><a href="chap-lit-report.html#clinical-prediction-models"><i class="fa fa-check"></i><b>1.2</b> Clinical Prediction Models</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="chap-lit-report.html"><a href="chap-lit-report.html#fundamental-prognosis-research"><i class="fa fa-check"></i><b>1.2.1</b> Fundamental Prognosis Research</a></li>
<li class="chapter" data-level="1.2.2" data-path="chap-lit-report.html"><a href="chap-lit-report.html#prognostic-factor-research"><i class="fa fa-check"></i><b>1.2.2</b> Prognostic Factor Research</a></li>
<li class="chapter" data-level="1.2.3" data-path="chap-lit-report.html"><a href="chap-lit-report.html#prognostic-model-research"><i class="fa fa-check"></i><b>1.2.3</b> Prognostic Model Research</a></li>
<li class="chapter" data-level="1.2.4" data-path="chap-lit-report.html"><a href="chap-lit-report.html#stratified-medicine"><i class="fa fa-check"></i><b>1.2.4</b> Stratified Medicine</a></li>
<li class="chapter" data-level="1.2.5" data-path="chap-lit-report.html"><a href="chap-lit-report.html#examples"><i class="fa fa-check"></i><b>1.2.5</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chap-lit-report.html"><a href="chap-lit-report.html#competing-risks-multi-state-models"><i class="fa fa-check"></i><b>1.3</b> Competing Risks &amp; Multi-State Models</a></li>
<li class="chapter" data-level="1.4" data-path="chap-lit-report.html"><a href="chap-lit-report.html#chronic-kidney-disease"><i class="fa fa-check"></i><b>1.4</b> Chronic Kidney Disease</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="chap-lit-report.html"><a href="chap-lit-report.html#clinical-prediction-models-1"><i class="fa fa-check"></i><b>1.4.1</b> Clinical Prediction Models</a></li>
<li class="chapter" data-level="1.4.2" data-path="chap-lit-report.html"><a href="chap-lit-report.html#multi-state-models"><i class="fa fa-check"></i><b>1.4.2</b> Multi-State Models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html"><i class="fa fa-check"></i><b>2</b> The Application of Multi-State Methods to Develop Clinical Prediction Models Designed for Clinical Use - A Scoping Review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#introduction-2"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#methods"><i class="fa fa-check"></i><b>2.2</b> Methods</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#scope-of-review"><i class="fa fa-check"></i><b>2.2.1</b> Scope of Review</a></li>
<li class="chapter" data-level="2.2.2" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#initial-search-strategy"><i class="fa fa-check"></i><b>2.2.2</b> Initial Search Strategy</a></li>
<li class="chapter" data-level="2.2.3" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#filtering"><i class="fa fa-check"></i><b>2.2.3</b> Filtering</a></li>
<li class="chapter" data-level="2.2.4" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#data-extraction"><i class="fa fa-check"></i><b>2.2.4</b> Data Extraction</a></li>
<li class="chapter" data-level="2.2.5" data-path="chap-scoping-review.html"><a href="chap-scoping-review.html#reporting"><i class="fa fa-check"></i><b>2.2.5</b> Reporting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html"><i class="fa fa-check"></i><b>3</b> How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies</a>
<ul>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#abstract-1"><i class="fa fa-check"></i>Abstract</a>
<ul>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#background"><i class="fa fa-check"></i>Background</a></li>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#methods-1"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#conclusion"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="chapter" data-level="" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#supplementary-material"><i class="fa fa-check"></i>Supplementary Material</a></li>
</ul></li>
<li class="chapter" data-level="3.1" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#background-1"><i class="fa fa-check"></i><b>3.1</b> Background</a></li>
<li class="chapter" data-level="3.2" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#methods-2"><i class="fa fa-check"></i><b>3.2</b> Methods</a></li>
<li class="chapter" data-level="3.3" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#results-1"><i class="fa fa-check"></i><b>3.3</b> Results</a></li>
<li class="chapter" data-level="3.4" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#discussion"><i class="fa fa-check"></i><b>3.4</b> Discussion</a></li>
<li class="chapter" data-level="3.5" data-path="chap-Conf-CR.html"><a href="chap-Conf-CR.html#conclusion-1"><i class="fa fa-check"></i><b>3.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html"><i class="fa fa-check"></i><b>4</b> Inverse Probability Weighting Adjustment of the Logistic Regression Calibration-in-the-Large</a>
<ul>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#abstract-2"><i class="fa fa-check"></i>Abstract</a>
<ul>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#methods-3"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#results-2"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#discussion-1"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#supplementary-material-1"><i class="fa fa-check"></i>Supplementary Material</a></li>
</ul></li>
<li class="chapter" data-level="4.1" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#introduction-4"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#methods-4"><i class="fa fa-check"></i><b>4.2</b> Methods</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#theory"><i class="fa fa-check"></i><b>4.2.1</b> Theory</a></li>
<li class="chapter" data-level="4.2.2" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#aims"><i class="fa fa-check"></i><b>4.2.2</b> Aims</a></li>
<li class="chapter" data-level="4.2.3" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#data-generating-method"><i class="fa fa-check"></i><b>4.2.3</b> Data Generating Method</a></li>
<li class="chapter" data-level="4.2.4" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#methods-5"><i class="fa fa-check"></i><b>4.2.4</b> Methods</a></li>
<li class="chapter" data-level="4.2.5" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#estimands"><i class="fa fa-check"></i><b>4.2.5</b> Estimands</a></li>
<li class="chapter" data-level="4.2.6" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#performance-measures"><i class="fa fa-check"></i><b>4.2.6</b> Performance Measures</a></li>
<li class="chapter" data-level="4.2.7" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#software"><i class="fa fa-check"></i><b>4.2.7</b> Software</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#results-3"><i class="fa fa-check"></i><b>4.3</b> Results</a></li>
<li class="chapter" data-level="4.4" data-path="chap-IPCW-logistic.html"><a href="chap-IPCW-logistic.html#discussion-2"><i class="fa fa-check"></i><b>4.4</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html"><i class="fa fa-check"></i><b>5</b> Prediction Model Performance Metrics for the Validation of Multi-State Clinical Prediction Models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#introduction-5"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#motivating-data-set"><i class="fa fa-check"></i><b>5.2</b> Motivating Data Set</a></li>
<li class="chapter" data-level="5.3" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#current-approaches"><i class="fa fa-check"></i><b>5.3</b> Current Approaches</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#baseline-models"><i class="fa fa-check"></i><b>5.3.1</b> Baseline Models</a></li>
<li class="chapter" data-level="5.3.2" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#notation"><i class="fa fa-check"></i><b>5.3.2</b> Notation</a></li>
<li class="chapter" data-level="5.3.3" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#patient-weighting"><i class="fa fa-check"></i><b>5.3.3</b> Patient Weighting</a></li>
<li class="chapter" data-level="5.3.4" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#accuracy---brier-score"><i class="fa fa-check"></i><b>5.3.4</b> Accuracy - Brier Score</a></li>
<li class="chapter" data-level="5.3.5" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#discrimination---c-statistic"><i class="fa fa-check"></i><b>5.3.5</b> Discrimination - c-statistic</a></li>
<li class="chapter" data-level="5.3.6" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#calibration---intercept-and-slope"><i class="fa fa-check"></i><b>5.3.6</b> Calibration - Intercept and Slope</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#extension-to-multi-state-models"><i class="fa fa-check"></i><b>5.4</b> Extension to Multi-State Models</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#trivial-extensions"><i class="fa fa-check"></i><b>5.4.1</b> Trivial Extensions</a></li>
<li class="chapter" data-level="5.4.2" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#accuracy---multiple-outcome-brier-score"><i class="fa fa-check"></i><b>5.4.2</b> Accuracy - Multiple Outcome Brier Score</a></li>
<li class="chapter" data-level="5.4.3" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#discrimination---polytomous-discriminatory-index"><i class="fa fa-check"></i><b>5.4.3</b> Discrimination - Polytomous Discriminatory Index</a></li>
<li class="chapter" data-level="5.4.4" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#calibration---multinomial-intercept-matched-and-unmatched-slopes"><i class="fa fa-check"></i><b>5.4.4</b> Calibration - Multinomial Intercept, Matched and Unmatched Slopes</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#application-to-real-world-data"><i class="fa fa-check"></i><b>5.5</b> Application to Real-World Data</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#accuracy"><i class="fa fa-check"></i><b>5.5.1</b> Accuracy</a></li>
<li class="chapter" data-level="5.5.2" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#discrimination"><i class="fa fa-check"></i><b>5.5.2</b> Discrimination</a></li>
<li class="chapter" data-level="5.5.3" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#calibration"><i class="fa fa-check"></i><b>5.5.3</b> Calibration</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="chap-performance-metrics.html"><a href="chap-performance-metrics.html#discussion-3"><i class="fa fa-check"></i><b>5.6</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html"><i class="fa fa-check"></i><b>6</b> Development and External Validation of a Multi-State Clinical Prediction Model for Chronic Kidney Disease Patients Progressing onto Renal Replacement Therapy and Death</a>
<ul>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#abstract-3"><i class="fa fa-check"></i>Abstract</a>
<ul>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#introduction-6"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#methods-6"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#results-4"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#discusssion"><i class="fa fa-check"></i>Discusssion</a></li>
<li class="chapter" data-level="" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#supplementary-material-2"><i class="fa fa-check"></i>Supplementary Material</a></li>
</ul></li>
<li class="chapter" data-level="6.1" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#introduction-7"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#methods-7"><i class="fa fa-check"></i><b>6.2</b> Methods</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#data-sources"><i class="fa fa-check"></i><b>6.2.1</b> Data Sources</a></li>
<li class="chapter" data-level="6.2.2" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#model-design"><i class="fa fa-check"></i><b>6.2.2</b> Model Design</a></li>
<li class="chapter" data-level="6.2.3" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#example"><i class="fa fa-check"></i><b>6.2.3</b> Example</a></li>
<li class="chapter" data-level="6.2.4" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#calculator"><i class="fa fa-check"></i><b>6.2.4</b> Calculator</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#results-5"><i class="fa fa-check"></i><b>6.3</b> Results</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#data-sources-1"><i class="fa fa-check"></i><b>6.3.1</b> Data Sources</a></li>
<li class="chapter" data-level="6.3.2" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#example-1"><i class="fa fa-check"></i><b>6.3.2</b> Example</a></li>
<li class="chapter" data-level="6.3.3" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#calculator-1"><i class="fa fa-check"></i><b>6.3.3</b> Calculator</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="chap-dev-paper.html"><a href="chap-dev-paper.html#discussion-4"><i class="fa fa-check"></i><b>6.4</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-conclusion.html"><a href="chap-conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="chap-Conf-CR-supp.html"><a href="chap-Conf-CR-supp.html"><i class="fa fa-check"></i><b>A</b> How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies - Supplementary Material</a>
<ul>
<li class="chapter" data-level="A.1" data-path="chap-Conf-CR-supp.html"><a href="chap-Conf-CR-supp.html#simulation-details"><i class="fa fa-check"></i><b>A.1</b> Simulation Details</a></li>
<li class="chapter" data-level="A.2" data-path="chap-Conf-CR-supp.html"><a href="chap-Conf-CR-supp.html#mathematics-of-subdistribution-hazards"><i class="fa fa-check"></i><b>A.2</b> Mathematics of Subdistribution Hazards</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="chap-IPCW-logistic-supp.html"><a href="chap-IPCW-logistic-supp.html"><i class="fa fa-check"></i><b>B</b> Inverse Probability Weighting Adjustment of the Logistic Regression Calibration-in-the-Large - Supplementary Material</a>
<ul>
<li class="chapter" data-level="B.1" data-path="chap-IPCW-logistic-supp.html"><a href="chap-IPCW-logistic-supp.html#calibration-slope"><i class="fa fa-check"></i><b>B.1</b> Calibration Slope</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="chap-IPCW-logistic-supp.html"><a href="chap-IPCW-logistic-supp.html#results-6"><i class="fa fa-check"></i><b>B.1.1</b> Results</a></li>
<li class="chapter" data-level="B.1.2" data-path="chap-IPCW-logistic-supp.html"><a href="chap-IPCW-logistic-supp.html#discussion-5"><i class="fa fa-check"></i><b>B.1.2</b> Discussion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html"><i class="fa fa-check"></i><b>C</b> Development and External Validation of a Multi-State Clinical Prediction Model for Chronic Kidney Disease Patients Progressing onto Renal Replacement Therapy and Death - Supplementary Material</a>
<ul>
<li class="chapter" data-level="C.1" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#statistical-analysis"><i class="fa fa-check"></i><b>C.1</b> Statistical Analysis</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#development"><i class="fa fa-check"></i><b>C.1.1</b> Development</a></li>
<li class="chapter" data-level="C.1.2" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#validation"><i class="fa fa-check"></i><b>C.1.2</b> Validation</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#model-results"><i class="fa fa-check"></i><b>C.2</b> Model Results</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#two-state-model"><i class="fa fa-check"></i><b>C.2.1</b> Two State Model</a></li>
<li class="chapter" data-level="C.2.2" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#three-state-model"><i class="fa fa-check"></i><b>C.2.2</b> Three State Model</a></li>
<li class="chapter" data-level="C.2.3" data-path="chap-dev-paper-supp.html"><a href="chap-dev-paper-supp.html#five-state-model"><i class="fa fa-check"></i><b>C.2.3</b> Five State Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Multi-State Clinical Prediction Models in Renal Replacement Therapy</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap-Conf-CR" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies</h1>
<p><em>MA Barrowman, N Peek, M Lambie, GP Martin, M Sperrin</em></p>
<p>Last updated: 21 Apr</p>
<p>Published as: <strong>MA Barrowman</strong>, N Peek, M Lambie et al, How unmeasured confounding in a competing risks setting can affect treatment effect estimates in observational studies, BMC Medical Research Methodology (2019) doi: <a href="https://doi.org/10.1186/s12874-019-0808-7">10.1186/s12874-019-0808-7</a></p>
<div id="abstract-1" class="section level2 unnumbered" number="">
<h2>Abstract</h2>
<div id="background" class="section level3 unnumbered" number="">
<h3>Background</h3>
<p>Analysis of competing risks is commonly achieved through a cause specific or a subdistribution framework using Cox or Fine &amp; Gray models, respectively. The estimation of treatment effects in observational data is prone to unmeasured confounding which causes bias. There has been limited research into such biases in a competing risks framework.</p>
</div>
<div id="methods-1" class="section level3 unnumbered" number="">
<h3>Methods</h3>
<p>We designed simulations to examine bias in the estimated treatment effect under Cox and Fine &amp; Gray models with unmeasured confounding present. We varied the strength of the unmeasured confounding (i.e. the unmeasured variable’s effect on the probability of treatment and both outcome events) in different scenarios.</p>
</div>
<div id="results" class="section level3 unnumbered" number="">
<h3>Results</h3>
<p>In both the Cox and Fine &amp; Gray models, correlation between the unmeasured confounder and the probability of treatment created biases in the same direction (upward/downward) as the effect of the unmeasured confounder on the event-of-interest. The association between correlation and bias is reversed if the unmeasured confounder affects the competing event. These effects are reversed for the bias on the treatment effect of the competing event and are amplified when there are uneven treatment arms.</p>
</div>
<div id="conclusion" class="section level3 unnumbered" number="">
<h3>Conclusion</h3>
<p>The effect of unmeasured confounding on an event-of-interest or a competing event should not be overlooked in observational studies as strong correlations can lead to bias in treatment effect estimates and therefore cause inaccurate results to lead to false conclusions. This is true for cause specific perspective, but moreso for a subdistribution perspective. This can have ramifications if real-world treatment decisions rely on conclusions from these biased results. Graphical visualisation to aid in understanding the systems involved and potential confounders/events leading to sensitivity analyses that assumes unmeasured confounders exists should be performed to assess the robustness of results.</p>
</div>
<div id="supplementary-material" class="section level3 unnumbered" number="">
<h3>Supplementary Material</h3>
<p>Supplementary Material is in Appendix <a href="chap-Conf-CR-supp.html#chap-Conf-CR-supp">A</a></p>
</div>
</div>
<div id="background-1" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Background</h2>
<p>Well-designed observation studies permit researchers to assess treatment effects when randomisation is not feasible. This may be due to cost, suspected non-equipoise treatments or any number of other reasons [1]. While observational studies minimise these issues by being cheaper to run and avoiding randomisation (which, although unknown at the time, may prescribe patients to worse treatments), they are potentially subject to issues such as unmeasured confounding and increased possibility of competing risks (where multiple clinically relevant events occur). Although these issues can arise in any study, Randomised Controlled Trials (RCTs) attempt to mitigate these effects by using randomisation of treatment and strict inclusion/exclusion criteria. However, the estimated treatment effects from RCTs are of potentially limited generalisability, accessibility and implementability [2].</p>
<p>A confounder is a variable that is a common cause of both treatment and outcome. For example, a patient with a high Body Mass Index (BMI) is more likely to be prescribed statins [3], but are also more likely to suffer a cardiovascular event. These treatment decisions can be affected by variables that are not routinely collected (such as childhood socio-economic status or the severity of a comorbidity [4]. Therefore, if these variables are omitted form (or unavailable for) the analysis of treatment effects in observational studies, then they can bias inferences [5]. As well as having a direct effect on the event-of-interest, confounders (along with other covariates) can also have further reaching effects on a patient’s health by changing the chances of having a competing event. Patients who are more likely to have a competing event are less likely to have an event-of-interest, which can affect inferences from studies ignoring the competing event. In the above BMI example, a high BMI can also increase a patient’s likelihood of developing (and thus dying from) cancer [6].</p>
<p>The issue of confounding in observational studies has been researched previously [7,8,9], where it has been consistently shown that unmeasured confounding is likely to occur within these natural datasets and that there is poor reporting of this, even after the introduction of the The Strengthening the Reporting of Observational Studies in Epidemiology (STROBE) Guidelines [10, 11]. Hence, it is widely recognised that sensitivity analyses are vital within the observational setting [12]. However these previous studies do not extend this work into a competing risk setting, meaning research in this space is lacking [13], particularly where the presence of a competing event can affect the rate of occurrence of the event-of-interest. These issues will commonly occur in elderly and comorbid patients where treatment decisions are more complex. As the elderly population grows, the clinical community needs to understand the optimal way to treat patients with complex conditions; here, causal relationships between treatment and outcome need to account for competing events appropriately.</p>
<p>The most common way of analysing data that contains competing events is using a cause specific perspective, as in the Cox methodology [14], where competing events are considered as censoring events and analysis focuses solely on the event-of-interest. The alternative is to assume a subdistributional perspective, as in the Fine &amp; Gray methodology [15], where patients who have competing events remain in the risk set forever.</p>
<p>The aim of this paper is to study the bias induced by the presence of unmeasured confounding on treatment effect estimates in the competing risks framework. We investigated how unmeasured confounding affects the apparent effect of treatment under the Fine &amp; Gray and the Cox methodologies and how these estimates differ from their true value. To accomplish this, we used simulations to generate synthetic time-to-event-data and then model under both perspectives. Both the Cox and Fine &amp; Gray models provide hazard ratios to describe the effects of a covariate. A binary covariate will represent a treatment and the coefficients found by the model will be the estimate of interest.</p>
</div>
<div id="methods-2" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Methods</h2>
<p>We considered a simulation scenario in which our population can experience two events; one of which is the event-of-interest (Event 1), the other is a competing event (Event 2). We model a single unmeasured confounding covariate, <span class="math inline">\(U \sim N (0,1)\)</span> and a binary treatment indicator, <span class="math inline">\(Z\)</span>. We varied how much <span class="math inline">\(U\)</span> and <span class="math inline">\(Z\)</span> affect the probability distribution of the two events as well as how they are correlated. For example, <span class="math inline">\(Z\)</span> could represent whether a patient is prescribed statins, <span class="math inline">\(U\)</span> could be their BMI, the event-of-interest could be cardiovascular disease related mortality and a competing event could be cancer-related mortality. We followed best practice for conducting and reporting simulations studies [16].</p>
<p>The data-generating mechanism defined two cause-specific hazard functions (one for each event), where the baseline hazard for event 1 was <span class="math inline">\(k\)</span> times that of event 2, see Fig. @ref(fig:Transition_Diagram). We assumed a baseline hazard that was either constant (exponential distributed failure times), linearly increasing (Weibull distributed failure times) or biologically plausible [17]. The hazards used were thus:</p>
<p><span class="math display">\[\begin{align}
\lambda_1(t|U,Z) &amp;= ke^{\beta_1U + \gamma_1Z}\lambda_0(t)\\
\lambda_2(t|U,Z) &amp;= ke^{\beta_2U + \gamma_2Z}\lambda_0(t)
\end{align}\]</span></p>
<p><span class="math display">\[\begin{equation}
\lambda_0(t) \begin{cases}
1 &amp; \textrm{Exponential}\\
2t &amp; \textrm{Weibull}\\
\exp{-18+7.3t-11.5t^{0.5}\log(t) + 9.5t^{0.5}} &amp; \textrm{Plausible}
\end{cases}
\end{equation}\]</span></p>
<p>In the above equations, <span class="math inline">\(\beta\)</span> and <span class="math inline">\(\gamma\)</span> are the effects of the confounding covariate and the treatment effect respectively with the subscripts representing which event they are affecting. These two hazard functions entirely describe how a population will behave [18].</p>
<p><img src="figure/CR_Conf/Transition_Diagram.png" width="450px" /></p>
<p>We simulated populations of 10,000 patients to ensure small confidence intervals around our treatment effect estimates in each simulation. Each simulated population had a distinct value for <span class="math inline">\(\beta\)</span> and <span class="math inline">\(\gamma\)</span>. In order to simulate the confounding of <span class="math inline">\(U\)</span> and <span class="math inline">\(Z\)</span>, we generated these values such that <span class="math inline">\(\textrm{Corr}(U,Z) = \rho\)</span> and <span class="math inline">\(\Pr(Z = 1) = \pi\)</span> [19]. Population end times and type of event were generated using the relevant hazard functions. The full process for the simulations can be found in Additional file 1. Due to the methods used to generate the populations, the possible values for <span class="math inline">\(\rho\)</span> are bounded by the choice of <span class="math inline">\(\pi\)</span> such that when <span class="math inline">\(\pi = 0.5\)</span>, <span class="math inline">\(\left|\rho\right| &lt;= 0.797\)</span> and when <span class="math inline">\(\pi = 0.1\)</span> (or <span class="math inline">\(\pi=0.9\)</span>), <span class="math inline">\(\left|\rho\right| &lt;= 0.57\)</span>. The relationship between the parameters can be seen in the Directed Acyclic Graph (DAG) shown in Fig. @ref(fig:Model_DAG), where <span class="math inline">\(T\)</span> is the event time and <span class="math inline">\(\delta\)</span> is the event type indicator (1 for event-of-interest and 2 for competing event).</p>
<p><img src="figure/CR_Conf/DAG.png" width="450px" style="display: block; margin: auto;" /></p>
<p>From this, we also explicitly calculated what we would expect the true subdistribution treatment effects, <span class="math inline">\(\Gamma_1\)</span> and <span class="math inline">\(\Gamma_2\)</span>, to be in these conditions [20] (See Additional file 2). It’s worth noting that the values of <span class="math inline">\(\Gamma\)</span> will depend on the current value of <span class="math inline">\(\rho\)</span> since they are calculated using the expected distribution of end-times. However, it has been shown [18, 21] that, due to the relationship between the Cause-Specific Hazard (CSH) and the Subdistribution Hazard (SH), only one proportional hazards assumption can be true. Therefore the “true” values of the <span class="math inline">\(\Gamma\)</span> will be misspecified and represent a least false parameter (which itself is an estimate of the time-dependent truth) [20].</p>
<p>We used the simulated data to estimate the treatment effects under the Cox and Fine &amp; Gray regression methods. We specify that <span class="math inline">\(U\)</span> is unmeasured and so it wasn’t included in the analysis models. As discussed earlier, the Cox model defines the risk set at time <span class="math inline">\(t\)</span> to be all patients who have not had any event by time <span class="math inline">\(t\)</span>, whereas the Fine &amp; Gray defines it to be those who have not had the event-of-interest (or competing event) by time <span class="math inline">\(t\)</span>.</p>
<p>For our models, for the events, <span class="math inline">\(i={1,2}\)</span>, we therefore defined the CSH function estimate, <span class="math inline">\(\hat{\lambda}_i\)</span>, and the SH function estimate, <span class="math inline">\(\hat{h}_i\)</span>, to be</p>
<p><span class="math display">\[
\hat{\lambda}_i(t|Z) = \hat{\lambda}_{i0}(t)e^{\hat{\gamma}_iZ} \qquad\qquad 
\hat{h}_i(t|Z) = \hat{h}_{i0}(t)e^{\hat{\Gamma}_iZ}
\]</span></p>
<p>Where <span class="math inline">\(\hat{\lambda}_{i0}(t)\)</span> and <span class="math inline">\(\hat{h}_{i0}(t)\)</span> are the baseline hazard and baseline subdistribution hazard function estimates for the entire population (i.e. no stratification), and <span class="math inline">\(\hat{\gamma}_i\)</span> and <span class="math inline">\(\hat{\Gamma}_i\)</span> are the estimated treatment effects. From these estimates, we also extracted the estimate of the subdistribution treatment effect in a hypothetical RCT, where <span class="math inline">\(\rho=0\)</span> and <span class="math inline">\(\pi=0.5\)</span> to give <span class="math inline">\(\hat{\Gamma}_{10}\)</span> and <span class="math inline">\(\hat{\Gamma}_{20}\)</span>. To investigate how the correlation between <span class="math inline">\(U\)</span> and <span class="math inline">\(Z\)</span> affects the treatment effect estimate, we compared the explicitly prescribed or calculated values with the simulated estimates. Three performance measures for both events, along with appropriate 95% confidence intervals, were calculated for each set of parameters:</p>
<ul>
<li><p><span class="math inline">\(\theta_{\textrm{RCT},i} = \textrm{E}\left[\hat{\Gamma}_i - \hat{\Gamma}_{i0}\right]\)</span> ~ The average difference between the SH treatment effect estimate from an idealised, hypothetical RCT situation.</p></li>
<li><p><span class="math inline">\(\theta_{\textrm{Exp},i} = \textrm{E}\left[\hat{\Gamma}_i - \Gamma_i\right]\)</span> ~ The average bias of the SH treatment effect estimate from the explicitly calculated value.</p></li>
<li><p><span class="math inline">\(\theta_{\textrm{CSH},i} = \textrm{E}\left[\hat{\gamma}_i - \gamma_i\right]\)</span> ~ The average bias of the CSH treatment effect estimate from the predefined treatment effect.</p></li>
</ul>
<p>As mentioned above, the value of <span class="math inline">\(\Gamma\)</span> will depend on the current value of <span class="math inline">\(\rho\)</span> and so the estimation of the explicit bias will be a measure of the total bias induced on our estimate of the subdistribution treatment effect in those specific set of parameters. We also evaluate the bias compared to an idealised RCT to see how much of this bias could be mitigated if we were to perform an RCT to assess the effectiveness of the hypothetical treatment. Finally, we found the explicit bias in the cause specific treatment effect to again see the total bias applied to this measure. We did not compared the CSH bias to an idealised RCT as we believed that this could easily be inferred from the CSH explicit results, whereas this information wouldn’t be as obvious in the SH treatment effect due to the existence of a relationship between <span class="math inline">\(\Gamma\)</span> and <span class="math inline">\(\rho\)</span>.</p>
<p>Eight Scenarios were simulated based on real-world situations. In each scenario, <span class="math inline">\(\rho\)</span> varied across 5 different values ranging from 0 to their maximum possible value (0.797 for all Scenarios apart from Scenario 5, where it is 0.57, due to the bounds imposed by the values of <span class="math inline">\(\pi\)</span>). One other parameter (different for different scenarios) varied across 3 different values, and all other parameters were fixed as detailed in Table 1. Each simulation was run 100 times and the performance measures were each pooled to provide small confidence intervals. This gives a total of 1,500 simulations for each of the 8 scenarios. Descriptions of the different scenarios are given below:</p>
<ol style="list-style-type: decimal">
<li><p>No Effect. To investigate whether treatment with no true effect (<span class="math inline">\(\gamma_2=\gamma_2=0\)</span>) can have an “artificial” treatment effect induced on them in the analysis models through the confounding effect on the event-of-interest. <span class="math inline">\(\beta_1\)</span> varied between -1, 0 and 1.</p></li>
<li><p>Positive Effect. To investigate whether treatment effects can be reversed when the treatment is beneficial for both the event-of-interest and the competing event (<span class="math inline">\(\gamma_2=\gamma_2=-1\)</span>). <span class="math inline">\(\beta_1\)</span> varied between -1, 0 and 1.</p></li>
<li><p>Differential Effect. To investigate how treatment effect estimates react when the effect is different for the event-of-interest (<span class="math inline">\(\gamma_2=-1\)</span>) and the competing event (<span class="math inline">\(\gamma_2=1\)</span>). <span class="math inline">\(\beta_1\)</span> varied between -1, 0 and 1.</p></li>
<li><p>Competing Confounder. To investigate whether treatments with no true effect (<span class="math inline">\(\gamma_1=\gamma_2=0\)</span>) can have an “artificial” treatment effect induced on them by the effect of a confounded variable on the competing event only (<span class="math inline">\(\beta_1=0\)</span>). <span class="math inline">\(\beta_2\)</span> varied between -1, 0 and 1.</p></li>
<li><p>Uneven Arms. To investigate how having uneven arms on a treatment in the population can have an effect on the treatment effect estimate (<span class="math inline">\(\gamma_1=-1\)</span>, <span class="math inline">\(\gamma_2=0\)</span>). <span class="math inline">\(\pi\)</span> varied between <span class="math inline">\(\;^{1}/_{10}\)</span>, <span class="math inline">\(\;^{1}/_{2}\)</span> and <span class="math inline">\(\;^{9}/_{10}\)</span>.</p></li>
<li><p>Uneven Events. To investigate how events with different frequencies can induce a bias on the treatment effect, despite no treatment effect being present (<span class="math inline">\(\gamma_1=\gamma_2=0\)</span>). <span class="math inline">\(k\)</span> varied between <span class="math inline">\(\;^{1}/_{2}\)</span>, <span class="math inline">\(\;^{1}/_{2}\)</span> and 2.</p></li>
<li><p>Weibull Distribution. To investigate whether a linearly increasing baseline hazard function affects the results found in Scenario 1. <span class="math inline">\(\beta_1\)</span> varied between -1, 0 and 1.</p></li>
<li><p>Plausible Distribution. To investigate whether a biologically plausible baseline hazard function affects the results found in Scenario 1. <span class="math inline">\(\beta_1\)</span> varied between -1, 0 and 1.</p></li>
</ol>
<p>[<strong>Insert Table 1</strong>]</p>
</div>
<div id="results-1" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Results</h2>
<p>The first row of Fig. 3 shows the results for Scenario 1 (No Effect). When <span class="math inline">\(\beta_1=\beta_2=0\)</span> (the green line), correlation between <span class="math inline">\(U\)</span> and <span class="math inline">\(Z\)</span> doesn’t imbue any bias on the treatment effect estimate for either event under any of the three measures, since all of the subdistribution treatment effects (estimated, calculated and hypothetical RCT) are approximately zero. When <span class="math inline">\(\beta_1&gt;0\)</span>, there is a strong positive association between correlation (<span class="math inline">\(\rho\)</span>) and the RCT and CSH biases for the event-of-interest and a negative association for the RCT bias for the competing event. Similarly, these associations are reversed when <span class="math inline">\(\beta_1&lt;0\)</span>.</p>
<p>There was no effect on <span class="math inline">\(\theta_{\textrm{CSH}}\)</span> for the competing event in this Scenario regardless of <span class="math inline">\(\rho\)</span> or <span class="math inline">\(\beta_1\)</span>. These results are similar to those found in Scenario 2 (Positive Effect) and Scenario 3 (Negative Effect) shown in Figs. 4 and 5. However, in both of these Scenarios, there is an overall positive shift in <span class="math inline">\(\theta_{\textrm{CSH}}\)</span> when <span class="math inline">\(\beta_1\neq0\)</span>.</p>
<p>The magnitude of <span class="math inline">\(\theta_{\textrm{Exp}}\)</span> is greatly reduced and is the reverse of the other associations when <span class="math inline">\(\beta_1\neq0\)</span> in Scenario 1 for the event-of-interest and when <span class="math inline">\(\beta_1&gt;0\)</span> it stays extremely small for low values of <span class="math inline">\(\rho\)</span>, and becomes negative for large <span class="math inline">\(\rho\)</span> for the competing event. In Scenario 2, <span class="math inline">\(\theta_{\textrm{Exp}}\)</span> behaves similarly to Scenario 1 for both events when <span class="math inline">\(\beta_1&lt;0\)</span> and the event-of-interest, but for the competing event, when <span class="math inline">\(\beta_1&gt;0\)</span>, the <span class="math inline">\(\theta_{\textrm{Exp}}\)</span> is much tighter to 0. The competing event data for <span class="math inline">\(\theta_{\textrm{Exp}}\)</span> in Scenario 3 is similar to Scenario 2 with <span class="math inline">\(\beta_1&gt;0\)</span> shifted downwards, but the event-of-interest has a near constant level of bias regardless of <span class="math inline">\(\rho\)</span>, apart from in the case when <span class="math inline">\(\beta_1&lt;0\)</span>, the bias switches direction.</p>
<p>In Scenario 4 (Competing Confounder), as would be expected, the results for the event-of-interest and the results for the competing event are swapped from those of Scenario 1 as shown in Fig. 6. Scenario 5 (Uneven Arms) portrays a bias similar to Scenario 1 where <span class="math inline">\(\beta_1=1\)</span>, however, the magnitude of the RCT and CSH bias is increased when <span class="math inline">\(\pi\neq0.5\)</span> as shown in Fig. 7.</p>
<p>The parameters for Scenario 6 (Uneven Events) were similar to the parameters for Scenario 1 (No Effect), when <span class="math inline">\(\beta_1=1\)</span>. This also reflects in the results in Fig. 8 which look similar to the results for this set of parameters in Scenario 1. This bias is largely unaffected by the value of <span class="math inline">\(k\)</span>. The results of Scenario 7 (Weibull Distribution) and Scenario 8 (Plausible Distribution) were nearly identical to those of Scenario 1 as shown in Figs. 9 and 10.</p>
<p>As per our original hypotheses, Scenario 1 demonstrated that it is possible to induce a treatment effect when one isn’t present through confounding effects on all biases, apart from the competing event CSH. In Scenario 2, with high enough correlation, the CSH event-of-interest bias could be greater than 1, meaning that the raw CSH treatment effect was close to 0, despite an actual treatment effect of -1, similarly large positive biases in the SH imply a treatment with no benefit and/or detrimental effect, despite the true treatment being beneficial for both events. This finding is similar for Scenario 3 with large biases changing the direction of the treatment effect (beneficial vs detrimental).</p>
<p>Scenario 4 demonstrated that even without a treatment effect and with no confounding effect on the event-of-interest, a treatment effect can be induced on the SH methodology, which can imply a beneficial/detrimental treatment, depending on whether the confounder was detrimental/beneficial. Fortunately, it does not induce an effect on the CSH treatment effect for the event-of-interest.</p>
<p>Scenarios 5 and 6 investigated other population level effects; differences in the size of the treatment arms and differences in the magnitude of the hazards of the events. Scenario 5 demonstrated that having uneven treatment arms can exacerbate the bias induced on both the <span class="math inline">\(\theta_{\textrm{RCT}}\)</span> and <span class="math inline">\(\theta_{\textrm{CSH}}\)</span> for both events and Scenario 6 showed that the different baseline hazards had little effect on the levels of bias in the results. This finding was supported by the additional findings of Scenarios 7 and 8, which showed that the underlying hazard functions did not affect the treatment effect biases compared to a constant hazard.</p>
</div>
<div id="discussion" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Discussion</h2>
<p>This is the first paper to investigate the issue of unmeasured confounding on a treatment effect in a competing risks scenario. Herein, we have demonstrated that regardless of the actual effect of a treatment on a population that is susceptible to competing risks, bias can be induced by the presence of unmeasured confounding. This bias is largely determined by the strength of the confounding relationship with the treatment decision and size of confounding effect on both the event-of-interest and any competing events. This effect is present regardless of any difference in event rates between the events being investigated and is also exacerbated by misbalances in the number of patients who received treatment and the number of patients who did not.</p>
<p>Our study has shown how different the case would be if a similar population (without inclusion/exclusion criteria) were put through an RCT and how the correlation between an unmeasured confounder and the treatment is removed, as would be the case in a pragmatic RCT. By combining the biases from an RCT and the explicitly calculated treatment effect, we can also use these results to infer how much of the bias found here is from omitted variable bias [22] and how much is explicitly due to the correlation between the covariates. Omitted variable bias occurs when a missing covariate has an effect on the outcome, but is not correlated with the treatment (and so is not a true confounder). It can occur even if the omitted variable is initially evenly distributed between the two treatment arms because, as patients on one arm have events earlier than the other, the distributions of the omitted variable drift apart. This makes up some of the bias caused by unmeasured confounding, but not all of it. For example, in Scenario 3 (Differential Effect), the treatment lowered the hazard of the event-of-interest, but increased the hazard of the competing event; with a median level of correlation (<span class="math inline">\(\rho=0.4\)</span>), the event-of-interest bias from the RCT when there is a negative confounding effect (<span class="math inline">\(\beta_1&lt;0\)</span>) is -0.628 and the bias from the explicit estimate is <span class="math inline">\(0.295\)</span> and therefore, the amount of bias due purely to the correlation between the unmeasured confounder and the treatment is actually -0.923. In this instance, some of the omitted variable bias is actually mitigating the bias from the correlation; if we have two biasing effects that can potentially cancel each other out, we could encounter a Type III error [23] which is very difficult to prove and can cause huge problems for reproducibility (if you eliminate a single source of bias, your results will be farther from the truth).</p>
<p>Our simulations indicate that a higher (lower) value of <span class="math inline">\(\beta_1\)</span> and a lower (higher) value of <span class="math inline">\(\beta_2\)</span> will produce a higher (lower) bias in the event-of-interest. These two biasing effects could cancel out to produce a situation similar to above. In our scenarios, we saw that, even when a treatment has no effect on the event-of-interest or a competing event (i.e. the treatment is a placebo), both a cause specific treatment effect and a subdistribution treatment effect can be found. This also implies that the biasing effect of unmeasured confounders (both omitted variable and correlation bias) can result in researchers reaching incorrect conclusions about how a treatment affects a population in multiple ways. We could have a treatment that is beneficial for the prevention of both types of event, but due to the effects of an unmeasured confounder, it could be found to have a detrimental effect (for one or both) on patients from a subdistribution perspective.</p>
<p>Our investigation augments Lin et al’s study into unmeasured confounding in a Cox model [5] by extending their conclusion (that bias is in the same direction as the confounder’s effect and dependent on its strength) into a competing risks framework (i.e. by considering the Fine &amp; Gray model as well) and demonstrating that this effect is reversed when there is confounding with the competing event. Lin et al. [5] also highlight the problems of omitted variable bias, which comes from further misspecification of the model; this finding was observed in our results as described above for Scenario 3.</p>
<p>The results from Scenario 7 (Weibull Distribution) and Scenario 8 (Plausible Distribution) are almost identical to those of Scenario 1 (No Effect) which implies that, by assuming both hazard functions in question are the same, we can assume they are both constant for simplicity. Since both the Cox and Fine &amp; Gray models are ambiguous to underlying hazard functions and treatment effects are estimated without consideration for the baseline hazard function, it makes intuitive sense that the results would be identical regardless of what underlying functions were used to generate our data. This makes calculation of the explicit subdistribution treatment effect much simpler for future researchers.</p>
<p>Thompson et al. used the paradox that smoking reduces melanoma risk to motivate simulations similar to ours, which demonstrated how the exclusion of competing risks, when assessing confounding, can lead to unintuitive, mis-specified and possibly dangerous conclusions [24]. They hypothesised that the association found elsewhere [25] may be caused by bias due to ignoring competing events and used Monte Carlo simulations to provide examples of scenarios where these results would be possible. They demonstrated how a competing event could cause incorrect conclusions when that competing event is ignored - a conclusion we also confirm through the existence of bias induced on the Cox modelled treatment effect even with no correlation between the unmeasured confounder and treatment (i.e. <span class="math inline">\(\theta_{\textrm{CSH,1}} \neq 0\)</span> in Scenarios 2 &amp; 3). Thompson’s team began with a situation where there may be a bias due to a competing event and reverse-engineered a scenario to find the potential sources of bias, whereas our study explored different scenarios and investigated the biased results they potentially produced.</p>
<p>Groenwold et al. [26] proposed methods to perform simulations to evaluate how much unmeasured confounding would be necessary for a true effect to be null given that an effect has been found in the data. Their methods can easily be applied to any metric in clinical studies (such as the different hazard ratios estimated here). Currently, epidemiologists will instigate methods such as DAGs, see Fig. @ref(fig:Model_DAG), to visualise where unmeasured confounding may be a problem in analysis [27] and statisticians who deal with such models will use transition diagrams, see Fig. @ref(fig:Model_Transitions), to visualise potential patient pathways [28]. Using these two visualisation techniques in parallel will allow researchers to anticipate these issues, successfully plan to combat them (through changes to protocol or sensitivity analysis, etc. …) and/or implement simulations to seek hidden sources of bias (using the methods of Groenwold [26] and Thompson [24]) or to adjust their findings by assuming biases similar to those demonstrated in our paper exist in their work.</p>
<p>The work presented here could be extended to include more complicated designs such as more competing events, more covariates and differing hazard functions. However, the intention of this paper was to provide a simple dissection of specific scenarios that allow for generalisation to clinical work. The main limitation of this work, to use of the same hazard functions for both events in each of our scenarios, was a pragmatic decision made to reduce computation time. The next largest limitation was the lack of censoring events, and was chosen to simplify interpretation of the model. This situation is unlikely to happen in the real world. However, since both the Cox and the Fine &amp; Gray modelling techniques are robust to any underlying baseline hazard and independent censoring of patients [14, 15, 29], these simplifications should not have had a detrimental effect on the bias estimates given in this paper. This perspective on censoring is similar to the view of Lesko et al. [30] in that censoring would provide less clarity of the presented results.</p>
</div>
<div id="conclusion-1" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Conclusion</h2>
<p>This paper has demonstrated that unmeasured confounding in observational studies can have an effect on the accuracy of outcomes for both a Cox and a Fine &amp; Gray model. We have added to the literature by incorporating the effect of confounding on a competing event as well as on the event-of-interest simultaneously. The effect of confounding is present and reversed compared to that of confounding on the event-of-interest. This makes intuitive sense as a negative effect on a competing event has a similar effect at the population level as a positive effect on the event-of-interest (and vice versa). This should not be overlooked, even when dealing with populations where the potential for competing events is much smaller than potential for the event-of-interest and is especially true when the two arms of a study are unequal. Therefore, we recommend that research with the potential to suffer from these issues be accompanied by sensitivity analyses investigating potential unmeasured confounding using established epidemiological techniques applied to any competing events as well as the event-of-interest. In short, unmeasured variables can cause problems with research, but by being knowledgeable about what we don’t know, we can make inferences despite this missing data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap-scoping-review.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-IPCW-logistic.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
