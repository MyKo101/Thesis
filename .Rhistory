geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Int","Slope"),val=.) %>%
mutate(y=c(1,-1))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
geom_text(aes(label=round(val,2),y=y/20+0.75),x=0.85,hjust=1,data=lin.mod)
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":"),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)+
geom_text(aes(label=round(val,2),y=y/20+0.75),x=0.85,hjust=1,data=lin.mod)
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":"),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)+
geom_text(aes(label=round(val,2),y=y/20+0.75),x=0.9,hjust=1,data=lin.mod)
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":"),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)+
geom_text(aes(label=round(val,2),y=y/20+0.75),x=1,hjust=1,data=lin.mod)
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
df2 <- df %>%
mutate(Px=Px/(Px+Py),Py=Py/(Px+Py))
df2
lin.mod2 <- glm(Py ~ Px,data=df2)
lin.mod2
ggplot(df2) + geom_point(aes(Px,Py))
df <- tibble(Px = runif(n),
Py = runif(n),
Pz = runif(n),
Pw = runif(n),
Tp = Px+Py+Pz+Pw) %>%
mutate(Px = Px/Tp,
Py = Py/Tp,
Pz = Pz/Tp,
Pw = Pw/Tp) %>%
select(-Tp)
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
df %$% cor(Px,Py)
lin.mod
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1)) %>%
rbind(tibble(var = cor,val=cor(df$Px,df$Py),y=-2))
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1)) %>%
rbind(tibble(var = "cor",val=cor(df$Px,df$Py),y=-2))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
lin.mod
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(0,-1)) %>%
rbind(tibble(var = "cor",val=cor(df$Px,df$Py),y=-2))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
mutate(Px=Px/(1-Tp,Py=Py/(1-Tp),Pw=Pw/(1-Tp))
df2 <- df %>%
mutate(Px=Px/(1-Tp),Py=Py/(1-Tp),Pw=Pw/(1-Tp))
df2 <- df %>%
mutate(Tp = Px+Py+Pz+Pw) %>%
mutate(Px=Px/(1-Tp),Py=Py/(1-Tp),Pw=Pw/(1-Tp))
df2
df
df2 <- df %>%
mutate(Px=Px/(1-Pw),Py=Py/(1-Pw),Pw=Pw/(1-Pw))
df2
df2 %>% {Px+Py+Pz}
df2 %$% {Px+Py+Pz}
df %$% {Px+Py+Pz + Pw}
df2 <- df %>%
mutate(Px=Px/(1-Pw),Py=Py/(1-Pw),Pz=Pz/(1-Pz))
df %$% {Px+Py+Pz + Pw}
df2
df2 %$% {Px+Py+Pz}
df2 <- df %>%
mutate(Px=Px/(1-Pw),Py=Py/(1-Pw),Pz=Pz/(1-Pw))
df2 %$% {Px+Py+Pz}
df2
lin.mod2 <- glm(Py ~ Px,data=df2)
ggplot(df2) + geom_point(aes(Px,Py))
rm(list=ls())
purrr::walk(
c("tibble","dplyr","magrittr","ggplot2","tidyr","zeallot")
,library,character.only=T)
n <- 10
df <- tibble(Px = runif(n),
Py = runif(n),
Pz = runif(n),
Tp = Px+Py+Pz) %>%
mutate(Px = Px/Tp,
Py = Py/Tp,
Pz = Pz/Tp) %>%
select(-Tp)
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
df2 <- df %>%
mutate(Px=Px/(Px+Py),Py=Py/(Px+Py))
lin.mod2 <- glm(Py ~ Px,data=df2)
ggplot(df2) + geom_point(aes(Px,Py))
df2
df2 %$%{Px+Py}
df2 <- df %>%
mutate(Tp = Px+Py) %>%
mutate(Px=Px/Tp,Py=Py/Tp)
lin.mod2 <- glm(Py ~ Px,data=df2)
ggplot(df2) + geom_point(aes(Px,Py))
cor(df2$Px,df2$Py)
rm(list=ls())
purrr::walk(
c("tibble","dplyr","magrittr","ggplot2","tidyr","zeallot")
,library,character.only=T)
n <- 10
df <- tibble(Px = runif(n),
Py = runif(n),
Pz = runif(n),
Tp = Px+Py+Pz) %>%
mutate(Px = Px/Tp,
Py = Py/Tp,
Pz = Pz/Tp) %>%
select(-Tp)
lin.mod <- glm(Py ~ Px,data=df) %>%
use_series(coef) %>%
tibble(var=c("Intercept","Slope"),val=.) %>%
mutate(y=c(1,-1))
ggplot(df) + geom_point(aes(Px,Py),size=0.5) +
geom_vline(xintercept=0,linetype=2) +
geom_hline(yintercept=0,linetype=2) +
geom_abline(intercept=1,slope=-1,linetype=2) +
xlim(c(0,1)) +
ylim(c(0,1)) +
geom_smooth(aes(Px,Py),linetype=1,method="glm") +
geom_text(aes(label=paste0(var,":",round(val,2)),y=y/20+0.75),x=0.6,hjust=0,data=lin.mod)
df2 <- df %>%
mutate(Tp = Px+Py) %>%
mutate(Px=Px/Tp,Py=Py/Tp)
lin.mod2 <- glm(Py ~ Px,data=df2)
ggplot(df2) + geom_point(aes(Px,Py))
rm(list=ls())
k <- 3
n <- 2^k
df <- tibble(id=1:n,x=runif(n),y=runif(n))
n0 <- n
while(n0 > 1)
{
cdf <- df
cpairs
for(i in 1:100)
{
pairs <- sample(n) %>%
matrix(ncol=2) %>%
as_tibble %>%
set_names(c("P1","P2")) %>%
left_join(cdf %>% set_names(paste0("P1",c("","_x","_y"))),by="P1") %>%
left_join(cdf %>% set_names(paste0("P2",c("","_x","_y"))),by="P2")
}
}
ggplot(df) +
geom_point(aes(x,y)) +
xlim(c(0,1)) +
ylim(c(0,1))
rm(list=ls())
k <- 3
n <- 2^k
df <- tibble(id=1:n,x=runif(n),y=runif(n))
n0 <- n
while(n0 > 1)
{
cdf <- df
cpairs <- NULL
for(i in 1:100)
{
pairs <- sample(n) %>%
matrix(ncol=2) %>%
as_tibble %>%
set_names(c("P1","P2")) %>%
left_join(cdf %>% set_names(paste0("P1",c("","_x","_y"))),by="P1") %>%
left_join(cdf %>% set_names(paste0("P2",c("","_x","_y"))),by="P2")
}
}
ggplot(df) +
geom_point(aes(x,y)) +
xlim(c(0,1)) +
ylim(c(0,1))
ggplot(df) +
geom_point(aes(x,y)) +
xlim(c(0,1)) +
ylim(c(0,1))
1 2 3 4 5 6 7 8 9 10
0987654321*2
library(readr)
library(ggplot2)
library(dplyr)
sessionInfo()
library(tibble)
library(readxl)
library(installr)
install.packages("installr")
library(installR0)
library(installR0)
library(installR)
library(installr)
updateR
updateR()
sessionInfo()
library(readr)
rm(list=ls())
pkgs <- c("readr","tibble","dplyr","readxl","magrittr","nnet",
"survival","mice","purrr","tidyr","ggplot2","forcats",
"lubridate")
purrr::walk(pkgs,library,character.only=T);rm(pkgs)
rm(list=ls())
pkgs <- c("readr","tibble","dplyr","readxl","magrittr","nnet",
"survival","mice","purrr","tidyr","ggplot2","forcats",
"lubridate")
invisible(purrr::walk(pkgs,library,character.only=T));rm(pkgs)
read_excel(wb,"Baseline and RRT outcomes",guess_max=1000000) %>%
select(id,`last contact`,`Date_First_RRT_for ERF`,RRT_Type)
?ddays()
?ddays
?dyears
library(lubridate)
?dyears
dyears()
ddays()
durations("years")
durations(units="years")
duration(units="years")
duration(1,units="years")
duration(1,units="days")
?`[`
`[` <- function(x,i) if(class(x) != "gammas") x[i] else x[i+1]
V2G <- function(x) class(x) <- "gammas";return(x)
V2G <- function(x) {class(x) <- "gammas";return(x)}
`[` <- function(x,i) if(class(x) != "gammas") x[i] else x[i+1]
V2G <- function(x) {class(x) <- "gammas";return(x)}
x <- c(1,2,3)
y <- V2G(x)
y[0]
y[1]
class(y)
install.packages("devtools")
library(devtools)
devtools::install_github("klutometis/roxygen")
library(rlang)
installed.packages()
installed.packages()["rlang",]
install.packages("devtools")
library(devtools)
devtools::install_github("klutometis/roxygen")
install.packages("rlang")
install.packages("rlang")
sessionInfo()
remotes::install_github("r-lib/rlang")
install.packages("rlang",type="source")
install.packages("rlang",type="source")
install.packages("rlang",type="source")
pi
library(rlang)
install.packages("rlang",type="source")
?write
?write.csv
names(read.csv("C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.csv"))
sys.Time()
Sys.time(0)
Sys.time()
source("C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.R")("hello",1234)
source("C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.R")
function(pass,id)
write.csv(
data.frame(
DateTime = Sys.time(),
pass = pass,
id = id),
"C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.csv",
row.names = F,
col.names = F,
append=T)
{function(pass,id)
write.csv(
data.frame(
DateTime = Sys.time(),
pass = pass,
id = id),
"C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.csv",
row.names = F,
col.names = F,
append=T)}("hello",1234)
{function(pass,id)
write.csv(
data.frame(
DateTime = Sys.time(),
pass = pass,
id = id),
"C:\\Users\\mbrxsmbc\\Documents\\Presentation\\R Tutorial\\Reg.csv",
row.names = F,
col.names = F,
append=T)}("hello",1234)
?writeLines
.libPath()
.LibPath()
.libPaths()
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
.libPaths()
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
library(DiagrammeR)
sessionInfo()
sessionInfo()
library(tidyverse)
.libPaths()
.libPaths("C:/Users/mbrxsmbc/Documents/R/3.6")
pkgs <- c("tidyverse")
purrr::walk(pkgs,library,character.only=T)
install.packages("bookdown")
pkgs <- c("tidyverse","bookdown")
purrr::walk(pkgs,library,character.only=T)
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
install.packages(c('tinytex', 'rmarkdown'))
tinytex::install_tinytex()
.libPaths()
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
tinytext::is_tinytex()
tinytex::is_tinytex()
tinytex:::is_tinytex()
.libPaths()
remotes::install_github("rstudio/bookdown")
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
library(rmarkdown)
library(thesisdown)
.libPaths("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
library(bookdown)
remotes::install_github("ismayc/thesisdown")
.libPaths()
.libPaths()
tinytex:::is_tinytex()
if (!require("remotes")) install.packages("remotes", repos = "http://cran.rstudio.org")
remotes::install_github("rstudio/bookdown")
remotes::install_github("ismayc/thesisdown")
installr
install.packages("installr")
installr:::updateR
installr:::updateR()
.libPaths()
tinytex:::is_tinytex()
if (!require("remotes")) install.packages("remotes", repos = "http://cran.rstudio.org")
remotes::install_github("rstudio/bookdown")
remotes::install_github("ismayc/thesisdown")
tinytex:::is_tinytex()
tinytex::tlmgr_install("babel-portuges")
tinytex:::tinytex_root()
?tinytex:::tlmgr
tlmgr_search('/times.sty')
tinytex:::tlmgr_search('/times.sty')
getwd()
setwd("C:\\Users\\mbrxsmbc\\Documents\\R\\3.6")
tinytex:::tlmgr_search('/times.sty')
tinytex:::tinytex_root()
tinytex:::tlmgr_search('/times.sty',dir="C:\\Users\\mbrxsmbc\\Documents\\TinyTex")
?system2
tinytex:::tlmgr_search('/times.sty',repository="C:\\Users\\mbrxsmbc\\Documents\\TinyTex")
tinytex::tlmgr_install("babel-portuges")
tinytex::tlmgr_install("babel-portuges",args=list(repository="C:\\Users\\mbrxsmbc\\Documents\\TinyTex"))
tinytex::tlmgr_install("babel-portuges",args="--repository C:\\Users\\mbrxsmbc\\Documents\\TinyTex")
tinytex::tlmgr_install("babel-portuges",args="--repository C:/Users/mbrxsmbc/Documents/TinyTex")
?tlmgr_install
tinytex::tlmgr_install("babel-portuges --repository C:/Users/mbrxsmbc/Documents/TinyTex")
tinytex::tlmgr_install("babel-portuges --repository C:/Users/mbrxsmbc/Documents/TinyTex")
remotes::install_github('rstudio/rmarkdown')
install.packages("pandoc")
?pandoc
install.packages("knitr")
install.packages("knitr")
remotes::install_github('rstudio/rmarkdown')
sessionInfo()
installed.packages() %>% head
head(installed.packages())
installed.packages()["tinytex",]
devtools::install_github("juliov/uomthesisdown")
.rs.restartR()
tinytex:::tlmgr("gpg")
tinytex:::tlmgr_search("gpg")
"34" <- 3
`34`
?`<-`
"hello"
"hello" <- 4
"hello"
`hello`
x <- "test"
expr(x) <- 3
as_symbol(x) <- 3
eval(x) <- 3
eval(x <- 3)
x <- "test"
x$test <- 1
x
x$"test"
x$"test" <- 3
x["test"]
x[["test"]]
as.character(x)
x <- "test"
as.character(x)
x
as_name(x)
quo(x)
?quote
quote(x)
quote(x) <- 3
`x`
x
x
string(x)
x -> y
x -> "test"
test
"x" <- "test"
"x" <- "hello"
?`<-`
deparse(x)
parse(x)
parse(text=x)
eval(parse(text=x))
x["y"] <- 3
x
x<-NULL
x["y"] <- 3
x
rm(x,"34")
rm(hello,test,y)
bookdown::preview_chapter("01-chap1")
getwd()
setwd("C:\\Users\\mbrxsmbc\\Documents\\Thesis\\index")
